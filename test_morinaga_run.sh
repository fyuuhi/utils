
# written in run_local_mc16_Zmumu.sh
echo "Reco_tf.py --maxEvents 500 --inputRDO_FTKFile=${INPUT_FILE} --outputESDFile=out.ESD.pool.root --outputAODFile=${OUTPUT_AOD} --digiSteeringConf 'StandardSignalOnlyTruth' --conditionsTag 'default:OFLCOND-MC16-SDR-17' --valid 'True' --postInclude 'default:PyJobTransforms/UseFrontier.py' --autoConfiguration 'everything' --triggerConfig 'RAWtoESD=MCRECO:DBF:TRIGGERDBMC:2209,71,253' --postExec 'all:CfgMgr.MessageSvc().setError+=[\"HepMcParticleLink\"]' 'ESDtoAOD:fixedAttrib=[s if "CONTAINER_SPLITLEVEL = \"99\"" not in s else "" for s in svcMgr.AthenaPoolCnvSvc.PoolAttributes];svcMgr.AthenaPoolCnvSvc.PoolAttributes=fixedAttrib' 'RAWtoESD:topSequence.TrigSteer_HLT.enableRobRequestPreparation=False' --preExec 'all:rec.Commissioning.set_Value_and_Lock(True);from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(20.0);from LArROD.LArRODFlags import larRODFlags;larRODFlags.NumberOfCollisions.set_Value_and_Lock(20);larRODFlags.nSamples.set_Value_and_Lock(4);larRODFlags.doOFCPileupOptimization.set_Value_and_Lock(True);larRODFlags.firstSample.set_Value_and_Lock(0);larRODFlags.useHighestGainAutoCorr.set_Value_and_Lock(True)' 'all:from InDetRecExample.InDetJobProperties import InDetFlags; InDetFlags.doSlimming.set_Value_and_Lock(False)' 'all:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.AODEDMSet.set_Value_and_Lock(\"AODFULL\");' 'all:from JetRec.JetRecFlags import jetFlags,JetContentDetail; jetFlags.detailLevel=JetContentDetail.Full' 'RAWtoESD:rec.doFTK.set_Value_and_Lock(True)' --geometryVersion 'default:ATLAS-R2-2016-01-00-01' " > tmp.sh && bsub -q 1d -o log.out < tmp.sh

# used for batch job, written in tmp.sh 
Reco_tf.py --maxEvents 500 --inputRDO_FTKFile=/gpfs/fs6001/yfukuhar/data/mc16_FTK/mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.digit.RDO_FTK.e3601_s3126_d1480_d1471/RDO_FTK.15260455._000015.pool.root.1 --outputESDFile=out.ESD.pool.root --outputAODFile=user.yfukuhar.mc16_13TeV.Zmumu.AOD.201812091542.root --digiSteeringConf 'StandardSignalOnlyTruth'       --conditionsTag 'default:OFLCOND-MC16-SDR-17' --valid 'True' --postInclude 'default:PyJobTransforms/UseFrontier.py' --autoConfiguration 'everything' --triggerConfig 'RAWtoESD=MCRECO:DBF:TRIGGERDBMC:2209,71,253'       --postExec 'all:CfgMgr.MessageSvc().setError+=["HepMcParticleLink"]' 'ESDtoAOD:fixedAttrib=[s if CONTAINER_SPLITLEVEL = "99" not in s else  for s in svcMgr.AthenaPoolCnvSvc.PoolAttributes];svcMgr.AthenaPoolCnvSvc.PoolAttributes=fixedAttrib' 'RAWtoESD:topSequence.TrigSteer_HLT.enableRobRequestPreparation=False'       --preExec 'all:rec.Commissioning.set_Value_and_Lock(True);from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(20.0);from LArROD.LArRODFlags import larRODFlags;larRODFlags.NumberOfCollisions.set_Value_and_Lock(20);larRODFlags.nSamples.set_Value_and_Lock(4);larRODFlags.doOFCPileupOptimization.set_Value_and_Lock(True);larRODFlags.firstSample.set_Value_and_Lock(0);larRODFlags.useHighestGainAutoCorr.set_Value_and_Lock(True)' 'all:from InDetRecExample.InDetJobProperties import InDetFlags; InDetFlags.doSlimming.set_Value_and_Lock(False)' 'all:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.AODEDMSet.set_Value_and_Lock("AODFULL");' 'all:from JetRec.JetRecFlags import jetFlags,JetContentDetail; jetFlags.detailLevel=JetContentDetail.Full' 'RAWtoESD:rec.doFTK.set_Value_and_Lock(True)'       --geometryVersion 'default:ATLAS-R2-2016-01-00-01'

# output for batch, written in log.out
Reco_tf.py --maxEvents 500 --inputRDO_FTKFile=/gpfs/fs6001/yfukuhar/data/mc16_FTK/mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.digit.RDO_FTK.e3601_s3126_d1480_d1471/RDO_FTK.15260455._000015.pool.root.1 --outputESDFile=out.ESD.pool.root --outputAODFile=user.yfukuhar.mc16_13TeV.Zmumu.AOD.201812091519.root --digiSteeringConf 'StandardSignalOnlyTruth'       --conditionsTag 'default:OFLCOND-MC16-SDR-17' --valid 'True' --postInclude 'default:PyJobTransforms/UseFrontier.py' --autoConfiguration 'everything' --triggerConfig 'RAWtoESD=MCRECO:DBF:TRIGGERDBMC:2209,71,253'       --postExec 'all:CfgMgr.MessageSvc().setError+=[HepMcParticleLink]' 'ESDtoAOD:fixedAttrib=[s if CONTAINER_SPLITLEVEL = "99" not in s else  for s in svcMgr.AthenaPoolCnvSvc.PoolAttributes];svcMgr.AthenaPoolCnvSvc.PoolAttributes=fixedAttrib' 'RAWtoESD:topSequence.TrigSteer_HLT.enableRobRequestPreparation=False'       --preExec 'all:rec.Commissioning.set_Value_and_Lock(True);from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(20.0);from LArROD.LArRODFlags import larRODFlags;larRODFlags.NumberOfCollisions.set_Value_and_Lock(20);larRODFlags.nSamples.set_Value_and_Lock(4);larRODFlags.doOFCPileupOptimization.set_Value_and_Lock(True);larRODFlags.firstSample.set_Value_and_Lock(0);larRODFlags.useHighestGainAutoCorr.set_Value_and_Lock(True)' 'all:from InDetRecExample.InDetJobProperties import InDetFlags; InDetFlags.doSlimming.set_Value_and_Lock(False)' 'all:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.AODEDMSet.set_Value_and_Lock("AODFULL");' 'all:from JetRec.JetRecFlags import jetFlags,JetContentDetail; jetFlags.detailLevel=JetContentDetail.Full' 'RAWtoESD:rec.doFTK.set_Value_and_Lock(True)'       --geometryVersion 'default:ATLAS-R2-2016-01-00-01'

# used for CLI 
Reco_tf.py  --inputRDO_FTKFile=/gpfs/fs6001/yfukuhar/data/mc16_FTK/mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.digit.RDO_FTK.e3601_s3126_d1480_d1471/RDO_FTK.15260455._000808.pool.root.1 --outputESDFile=out.ESD.pool.root --outputAODFile=out.AOD.pool.root --digiSteeringConf 'StandardSignalOnlyTruth' --conditionsTag 'default:OFLCOND-MC16-SDR-17' --valid 'True' --postInclude 'default:PyJobTransforms/UseFrontier.py' --autoConfiguration 'everything' --triggerConfig 'RAWtoESD=MCRECO:DBF:TRIGGERDBMC:2209,71,253' --postExec 'all:CfgMgr.MessageSvc().setError+=["HepMcParticleLink"]' 'ESDtoAOD:fixedAttrib=[s if "CONTAINER_SPLITLEVEL = \"99\"" not in s else "" for s in svcMgr.AthenaPoolCnvSvc.PoolAttributes];svcMgr.AthenaPoolCnvSvc.PoolAttributes=fixedAttrib' 'RAWtoESD:topSequence.TrigSteer_HLT.enableRobRequestPreparation=False' --preExec 'all:rec.Commissioning.set_Value_and_Lock(True);from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(20.0);from LArROD.LArRODFlags import larRODFlags;larRODFlags.NumberOfCollisions.set_Value_and_Lock(20);larRODFlags.nSamples.set_Value_and_Lock(4);larRODFlags.doOFCPileupOptimization.set_Value_and_Lock(True);larRODFlags.firstSample.set_Value_and_Lock(0);larRODFlags.useHighestGainAutoCorr.set_Value_and_Lock(True)' 'all:from InDetRecExample.InDetJobProperties import InDetFlags; InDetFlags.doSlimming.set_Value_and_Lock(False)' 'all:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.AODEDMSet.set_Value_and_Lock("AODFULL");' 'all:from JetRec.JetRecFlags import jetFlags,JetContentDetail; jetFlags.detailLevel=JetContentDetail.Full' 'RAWtoESD:rec.doFTK.set_Value_and_Lock(True)' --geometryVersion 'default:ATLAS-R2-2016-01-00-01'
